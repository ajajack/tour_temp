<!doctype html>
<html>

<head>
  <title>CBDI Liberty Virtual Tour</title>
  <meta name="description" content="A Tour of Children's Hospital Liberty Campus'">
  <meta name="viewport" content="width=device-width">
  <link rel="shortcut icon" href="images/ui/favicon.ico">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <script src="https://aframe.io/releases/0.6.1/aframe.min.js"></script>
  <!-- My scripts -->
  <link rel="stylesheet" href="css/tour.css">
  <script type="text/javascript" src="js/data.js"></script>
  <script type="text/javascript" src="js/manager.js"></script>
  <script type="text/javascript" src="js/call-switch.js"></script>
  <script type="text/javascript" src="js/change-map.js"></script>
  <script type="text/javascript" src="js/tour_ui.js"></script>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-108453755-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-108453755-2');
  </script>
</head>

<body>
  <a-scene manager vr-mode-ui="enabled: false" cursor="rayOrigin: mouse">
    <a-assets>
      <img id="outside_flag360" src="images/360/outside_flag.jpg">
      <img id="Main_1F_Desk360" src="images/360/Main_1F_Desk.jpg">
      <img id="Main_1F_Lobby360" src="images/360/Main_1F_Lobby.jpg">
      <img id="Main_4F_Elevators360" src="images/360/Main_4F_Elevators.jpg">
      <img id="Main_4F_StarDomeHallway360" src="images/360/Main_4F_StarDomeHallway.jpg">
      <img id="Main_4F_BreakRoom360" src="images/360/Main_4F_BreakRoom.jpg">
      <img id="Main_4F_PlayRoom360" src="images/360/Main_4F_PlayRoom.jpg">
      <img id="Main_4F_NurseStation360" src="images/360/Main_4F_NurseStation.jpg">
      <img id="Main_4F_Room10360" src="images/360/Main_4F_Room10.jpg">
    </a-assets>

    <!-- 360-degree image. -->
    <a-sky id="image-360" radius="105"></a-sky>

    <a-entity id="player" position="0 2 0" rotation="0 0 0">
      <a-entity id="mainCamera" camera look-controls mouse-cursor wasd-controls>
        <!-- Cursor 
        <a-entity position="0 0 -3"
                  scale="1 1 1"
                  geometry="primitive: ring; radiusOuter: 0.06; radiusInner: 0.03; thetaStart: 90;"
                  material="color: white; shader: flat"
                  cursor="maxDistance: 100; fuse: true"
                  raycaster="interval: 500; objects: .collidable">
          <a-animation begin="click" easing="ease" attribute="geometry.thetaLength" fill="backwards" from="0" to="360" dur="500"></a-animation>
          <a-animation begin="mouseleave" easing="ease" attribute="geometry.thetaLength" fill="backwards" to="360" dur="0"></a-animation>
          <a-animation begin="cursor-fusing" easing="ease-in" attribute="geometry.thetaLength" fill="forwards" from="360" to="0"></a-animation>
        </a-entity> -->
      </a-entity>
    </a-entity>
  </a-scene>

  <!-- Tour UI -->
  <div id="tourUI">
    <div id="robbie">
      <img id="robbieImg" src="images/ui/robbie_img.png">
      <div id="robbieText">You are at This Place</div>
    </div>
    <div id="tourNav" style="display: inline">
      <img id="rightArrow" src="images/ui/menu_information.png" onClick="document.querySelector('a-scene').components.manager.tourStep('next')"></img>
      <div id="locationText">You are Here</div>
      <img id="leftArrow" src="images/ui/menu_information.png" onClick="document.querySelector('a-scene').components.manager.tourStep('previous')"></img>
    </div>
    <div id="bottomButtons">
      <img src="images/ui/map_icon.png" id="menu_map" class="uiButton" alt="Map" onClick="document.querySelector('a-scene').components.manager.changeMap()"> <!-- 95 x 97 -->
      <img src="images/ui/robbie.png" id="menu_robbie" class="uiButton" onClick="toggleRobbie()"> <!-- 94 x 94 -->
      <img src="images/ui/menu_vr.png" id="menu_vr" class="uiButton" onClick="customEnterVR()"> <!-- 48 x 48 -->
      <img src="images/ui/menu_sound_on.png" id="menu_sound" class="uiButton" onClick="clickSoundButton()"> <!-- 48 x 48 -->
      <a href="index.html"><img src="images/ui/menu_information.png" id="menu_home" class="uiButton"></a> <!-- 48 x 48 -->
    </div>
  </div>

</body>
</html>